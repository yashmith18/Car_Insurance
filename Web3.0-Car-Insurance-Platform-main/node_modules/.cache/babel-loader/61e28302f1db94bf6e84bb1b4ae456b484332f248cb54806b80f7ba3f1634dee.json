{"ast":null,"code":"import { __read, __assign } from 'tslib';\nimport * as React from 'react';\nimport { useContext, useRef, useMemo } from 'react';\nimport { LayoutGroupContext } from '../../context/LayoutGroupContext.mjs';\nimport { DeprecatedLayoutGroupContext } from '../../context/DeprecatedLayoutGroupContext.mjs';\nimport { useForceUpdate } from '../../utils/use-force-update.mjs';\nimport { nodeGroup } from '../../projection/node/group.mjs';\nvar shouldInheritGroup = function (inherit) {\n  return inherit === true;\n};\nvar shouldInheritId = function (inherit) {\n  return shouldInheritGroup(inherit === true) || inherit === \"id\";\n};\nvar LayoutGroup = function (_a) {\n  var _b, _c;\n  var children = _a.children,\n    id = _a.id,\n    inheritId = _a.inheritId,\n    _d = _a.inherit,\n    inherit = _d === void 0 ? true : _d;\n  // Maintain backwards-compatibility with inheritId until 7.0\n  if (inheritId !== undefined) inherit = inheritId;\n  var layoutGroupContext = useContext(LayoutGroupContext);\n  var deprecatedLayoutGroupContext = useContext(DeprecatedLayoutGroupContext);\n  var _e = __read(useForceUpdate(), 2),\n    forceRender = _e[0],\n    key = _e[1];\n  var context = useRef(null);\n  var upstreamId = (_b = layoutGroupContext.id) !== null && _b !== void 0 ? _b : deprecatedLayoutGroupContext;\n  if (context.current === null) {\n    if (shouldInheritId(inherit) && upstreamId) {\n      id = id ? upstreamId + \"-\" + id : upstreamId;\n    }\n    context.current = {\n      id: id,\n      group: shouldInheritGroup(inherit) ? (_c = layoutGroupContext === null || layoutGroupContext === void 0 ? void 0 : layoutGroupContext.group) !== null && _c !== void 0 ? _c : nodeGroup() : nodeGroup()\n    };\n  }\n  var memoizedContext = useMemo(function () {\n    return __assign(__assign({}, context.current), {\n      forceRender: forceRender\n    });\n  }, [key]);\n  return React.createElement(LayoutGroupContext.Provider, {\n    value: memoizedContext\n  }, children);\n};\nexport { LayoutGroup };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}