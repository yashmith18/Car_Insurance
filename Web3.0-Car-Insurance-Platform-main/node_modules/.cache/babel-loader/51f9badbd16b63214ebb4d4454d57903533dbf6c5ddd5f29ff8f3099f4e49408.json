{"ast":null,"code":"\"use strict\";\n\n// Copyright (c) 2018-2022 Coinbase, Inc. <https://www.coinbase.com/>\n// Licensed under the Apache License, version 2.0\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CoinbaseAppSteps = exports.CoinbaseWalletSteps = exports.ConnectItem = exports.ConnectContent = void 0;\nconst clsx_1 = __importDefault(require(\"clsx\"));\nconst preact_1 = require(\"preact\");\nconst hooks_1 = require(\"preact/hooks\");\nconst util_1 = require(\"../../util\");\nconst version_1 = require(\"../../version\");\nconst CloseIcon_1 = require(\"../icons/CloseIcon\");\nconst coinbase_round_svg_1 = __importDefault(require(\"../icons/coinbase-round-svg\"));\nconst coinbase_wallet_round_svg_1 = __importDefault(require(\"../icons/coinbase-wallet-round-svg\"));\nconst QRCodeIcon_1 = require(\"../icons/QRCodeIcon\");\nconst QRLogoCoinbase_1 = __importDefault(require(\"../icons/QRLogoCoinbase\"));\nconst QRLogoWallet_1 = __importDefault(require(\"../icons/QRLogoWallet\"));\nconst StatusDotIcon_1 = require(\"../icons/StatusDotIcon\");\nconst QRCode_1 = require(\"../QRCode\");\nconst Spinner_1 = require(\"../Spinner/Spinner\");\nconst ConnectContent_css_1 = __importDefault(require(\"./ConnectContent-css\"));\nconst wallets = {\n  \"coinbase-wallet-app\": {\n    title: \"Coinbase Wallet app\",\n    description: \"Connect with your self-custody wallet\",\n    icon: coinbase_wallet_round_svg_1.default,\n    steps: CoinbaseWalletSteps\n  },\n  \"coinbase-app\": {\n    title: \"Coinbase app\",\n    description: \"Connect with your Coinbase account\",\n    icon: coinbase_round_svg_1.default,\n    steps: CoinbaseAppSteps\n  }\n};\nconst makeQrCodeImage = app => {\n  switch (app) {\n    case \"coinbase-app\":\n      return QRLogoCoinbase_1.default;\n    case \"coinbase-wallet-app\":\n    default:\n      return QRLogoWallet_1.default;\n  }\n};\nconst makeIconColor = theme => {\n  return theme === \"light\" ? \"#FFFFFF\" : \"#0A0B0D\";\n};\nfunction ConnectContent(props) {\n  const {\n    theme\n  } = props;\n  const [selected, setSelected] = (0, hooks_1.useState)(\"coinbase-wallet-app\");\n  const handleSelect = (0, hooks_1.useCallback)(id => {\n    setSelected(id);\n  }, []);\n  const qrUrl = (0, util_1.createQrUrl)(props.sessionId, props.sessionSecret, props.linkAPIUrl, props.isParentConnection, props.version, props.chainId);\n  const wallet = wallets[selected];\n  if (!selected) {\n    return null;\n  }\n  const WalletSteps = wallet.steps;\n  const coinbaseApp = selected === \"coinbase-app\";\n  return (0, preact_1.h)(\"div\", {\n    \"data-testid\": \"connect-content\",\n    class: (0, clsx_1.default)(\"-cbwsdk-connect-content\", theme)\n  }, (0, preact_1.h)(\"style\", null, ConnectContent_css_1.default), (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-connect-content-header\"\n  }, (0, preact_1.h)(\"h2\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-connect-content-heading\", theme)\n  }, \"Scan to connect with one of our mobile apps\"), props.onCancel && (0, preact_1.h)(\"button\", {\n    type: \"button\",\n    class: \"-cbwsdk-cancel-button\",\n    onClick: props.onCancel\n  }, (0, preact_1.h)(CloseIcon_1.CloseIcon, {\n    fill: theme === \"light\" ? \"#0A0B0D\" : \"#FFFFFF\"\n  }))), (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-connect-content-layout\"\n  }, (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-connect-content-column-left\"\n  }, (0, preact_1.h)(\"div\", null, Object.entries(wallets).map(_ref => {\n    let [key, value] = _ref;\n    return (0, preact_1.h)(ConnectItem, {\n      key: key,\n      title: value.title,\n      description: value.description,\n      icon: value.icon,\n      selected: selected === key,\n      onClick: () => handleSelect(key),\n      theme: theme\n    });\n  })), coinbaseApp && (0, preact_1.h)(\"div\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-connect-content-update-app\", theme)\n  }, \"Don\\u2019t see a \", (0, preact_1.h)(\"strong\", null, \"Scan\"), \" option? Update your Coinbase app to the latest version and try again.\")), (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-connect-content-column-right\"\n  }, (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-connect-content-qr-wrapper\"\n  }, (0, preact_1.h)(QRCode_1.QRCode, {\n    content: qrUrl,\n    width: 200,\n    height: 200,\n    fgColor: \"#000\",\n    bgColor: \"transparent\",\n    image: {\n      svg: makeQrCodeImage(selected),\n      width: 25,\n      height: 25\n    }\n  }), (0, preact_1.h)(\"input\", {\n    type: \"hidden\",\n    name: \"cbw-cbwsdk-version\",\n    value: version_1.LIB_VERSION\n  }), (0, preact_1.h)(\"input\", {\n    type: \"hidden\",\n    value: qrUrl\n  })), (0, preact_1.h)(WalletSteps, {\n    theme: theme\n  }), !props.isConnected && (0, preact_1.h)(\"div\", {\n    \"data-testid\": \"connecting-spinner\",\n    class: (0, clsx_1.default)(\"-cbwsdk-connect-content-qr-connecting\", theme)\n  }, (0, preact_1.h)(Spinner_1.Spinner, {\n    size: 36,\n    color: theme === \"dark\" ? \"#FFF\" : \"#000\"\n  }), (0, preact_1.h)(\"p\", null, \"Connecting...\")))));\n}\nexports.ConnectContent = ConnectContent;\nfunction ConnectItem(_ref2) {\n  let {\n    title,\n    description,\n    icon,\n    selected,\n    theme,\n    onClick\n  } = _ref2;\n  return (0, preact_1.h)(\"div\", {\n    onClick: onClick,\n    class: (0, clsx_1.default)(\"-cbwsdk-connect-item\", theme, {\n      selected\n    })\n  }, (0, preact_1.h)(\"div\", null, (0, preact_1.h)(\"img\", {\n    src: icon,\n    alt: title\n  })), (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-connect-item-copy-wrapper\"\n  }, (0, preact_1.h)(\"h3\", {\n    class: \"-cbwsdk-connect-item-title\"\n  }, title), (0, preact_1.h)(\"p\", {\n    class: \"-cbwsdk-connect-item-description\"\n  }, description)));\n}\nexports.ConnectItem = ConnectItem;\nfunction CoinbaseWalletSteps(_ref3) {\n  let {\n    theme\n  } = _ref3;\n  return (0, preact_1.h)(\"ol\", {\n    class: \"-cbwsdk-wallet-steps\"\n  }, (0, preact_1.h)(\"li\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-wallet-steps-item\", theme)\n  }, (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-wallet-steps-item-wrapper\"\n  }, \"Open Coinbase Wallet app\")), (0, preact_1.h)(\"li\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-wallet-steps-item\", theme)\n  }, (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-wallet-steps-item-wrapper\"\n  }, (0, preact_1.h)(\"span\", null, \"Tap \", (0, preact_1.h)(\"strong\", null, \"Scan\"), \" \"), (0, preact_1.h)(\"span\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-wallet-steps-pad-left\", \"-cbwsdk-wallet-steps-icon\", theme)\n  }, (0, preact_1.h)(QRCodeIcon_1.QRCodeIcon, {\n    fill: makeIconColor(theme)\n  })))));\n}\nexports.CoinbaseWalletSteps = CoinbaseWalletSteps;\nfunction CoinbaseAppSteps(_ref4) {\n  let {\n    theme\n  } = _ref4;\n  return (0, preact_1.h)(\"ol\", {\n    class: \"-cbwsdk-wallet-steps\"\n  }, (0, preact_1.h)(\"li\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-wallet-steps-item\", theme)\n  }, (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-wallet-steps-item-wrapper\"\n  }, \"Open Coinbase app\")), (0, preact_1.h)(\"li\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-wallet-steps-item\", theme)\n  }, (0, preact_1.h)(\"div\", {\n    class: \"-cbwsdk-wallet-steps-item-wrapper\"\n  }, (0, preact_1.h)(\"span\", null, \"Tap \", (0, preact_1.h)(\"strong\", null, \"More\")), (0, preact_1.h)(\"span\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-wallet-steps-pad-left\", \"-cbwsdk-wallet-steps-icon\", theme)\n  }, (0, preact_1.h)(StatusDotIcon_1.StatusDotIcon, {\n    fill: makeIconColor(theme)\n  })), (0, preact_1.h)(\"span\", {\n    class: \"-cbwsdk-wallet-steps-pad-left\"\n  }, \"then \", (0, preact_1.h)(\"strong\", null, \"Scan\")), (0, preact_1.h)(\"span\", {\n    class: (0, clsx_1.default)(\"-cbwsdk-wallet-steps-pad-left\", \"-cbwsdk-wallet-steps-icon\", theme)\n  }, (0, preact_1.h)(QRCodeIcon_1.QRCodeIcon, {\n    fill: makeIconColor(theme)\n  })))));\n}\nexports.CoinbaseAppSteps = CoinbaseAppSteps;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}